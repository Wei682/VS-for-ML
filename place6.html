<!DOCTYPE html>
<html lang="en">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin=""></script>


<head>
  <meta charset="UTF-8" />
  <link href="visualization.css" rel="stylesheet" />
  <title>Visual Place Recognition Visualization</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>

<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<body>
  <img class = "network" src="network_arc.png" alt="network">

  <br>
  <br>

  <!-- <h1>Query Image</h1>
  <div class = "row">
  <img src="img_1.jpeg" alt=""> </img>
</div> -->

<br>

  <h1> Visualization for Resnet</h1>
  <div class='flex-container'>
    <div class='flex-column'>
      <img src="query3.jpg" alt="query_image" id="frame1">
    </div>
  </div>
    <br>
  <div class="button">
        <button id="option1">NetVLAD last layer visualization</button>
        <button id="option2">Matched Image (Output)</button>
  </div>
  <br>


<h1> Visualization for SimCLR</h1>
  <div class='flex-container'>
    <div class='flex-column'>
      <img src="query3.jpg" alt="query_image" id="frame2">
    </div>
  </div>
    <br>
  <div class="button">
        <button id="option4">NetVLAD last layer visualization</button>
        <button id="option5">Matched Image (Output)</button>
  </div>
  <br>

  <h1> Locations on map</h1>

  <div class = "label">
      <p class = "Query_label">Query image location: &#9873</p>
      <p class = "Resnet_label">Resnet output location: &#9679  Distance error: 0.87m </p>
      <p class = "Sim_label">SimCLR output location: &#9733  Distance error: 6.92m</p>
  </div>
  <div style='display: flex; flex-direction: column; align-items: center;'>
  <div id="map"></div>
  <br>
  <br>
  <a class = "back"  href="index.html">Go back to home</a>
<br>
<br>

</body>

<script>
  document.getElementById("option1").addEventListener("mouseover", function () {
    document.getElementById("frame1").src = "resnet_vn3.jpg";
  });
  document.getElementById("option2").addEventListener("mouseover", function () {
    document.getElementById("frame1").src = "resnet3.jpg";
  });
  document.getElementById("option1").addEventListener("mouseout", function () {
    document.getElementById("frame1").src = "query3.jpg";
  });
  document.getElementById("option2").addEventListener("mouseout", function () {
    document.getElementById("frame1").src = "query3.jpg";
  });


  document.getElementById("option4").addEventListener("mouseover", function () {
    document.getElementById("frame2").src = "simclr_vn3.jpg";
  });
  document.getElementById("option5").addEventListener("mouseover", function () {
    document.getElementById("frame2").src = "simclr3.jpg";
  });
  document.getElementById("option4").addEventListener("mouseout", function () {
    document.getElementById("frame2").src = "query3.jpg";
  });
  document.getElementById("option5").addEventListener("mouseout", function () {
    document.getElementById("frame2").src = "query3.jpg";
  });

var map = L.map('map').setView([40.73,-74.00], 15);

const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);

var flag = L.icon({
    iconUrl: 'flag1.png',
    iconSize: [38, 38],
    iconAnchor: [22, 94],
    popupAnchor: [-3, -76],
});

var circle = L.icon({
    iconUrl: 'circle.png',
    iconSize: [38, 38],
    iconAnchor: [22, 94],
    popupAnchor: [-3, -76],
});

var star = L.icon({
    iconUrl: 'star.png',
    iconSize: [38, 38],
    iconAnchor: [22, 94],
    popupAnchor: [-3, -76],
});

var marker1 = L.marker([40.728897, -74.002629], {icon:flag}).addTo(map);


var marker2 = L.marker([40.72889, -74.002632], {icon:circle}).addTo(map);

var marker3 = L.marker([40.728838, -74.002604], {icon:star}).addTo(map);
</script>

</html>
